function search(){let r=$("#search-input").val();var e;0<(r=r.trim()).length&&(e={search:r},$.ajax({url:"/ajax/search",data:e,success:function(e){$(".dropdown-result-search").show(),$(".dropdown-result-search ul").html(""),$(".dropdown-result-search ul").addClass("list-item"),$.each(e.results,function(e,t){e<3&&(e="/"+t.slug,$(".dropdown-result-search ul").append('<li><a class= "text-1-line" href="'+e+'">'+t.title+"</a></li>"))});var t="/search?search="+r;3<e.results.length&&$(".dropdown-result-search ul").append('<li><a href = "'+t+'" class="text-warning">'+(e.results.length-3)+"  other results</a></li>"),e.results.length<1&&$(".dropdown-result-search ul").append('<li class="text-danger">No results found</li>')},error:function(e){}}))}function delay(r,a){let s=0;return function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout(function(){r.apply(e,t)},a||0)}}$("#search-input").keyup(delay(function(e){search()},500)),$("#search-input").keyup(function(e){var t=e.key;"Enter"===t&&e.preventDefault();let r=$("#search-input").val();1<=(r=r.trim()).length&&"Enter"===t&&(window.location.href="/search?search="+r)}),$(".btn-search").click(function(e){let t=$("#search-input").val();t=t.trim(),window.location.href="/search?search="+t}),$("body").mouseup(function(e){var t=$("#dropdown-result");e.target.id==t.attr("id")||t.has(e.target).length||$(".dropdown-result-search").hide()});